<!DOCTYPE html>
<html>
<head>
    <title>Firebase Data Uploader</title>
    <style>
        body { font-family: Arial; margin: 40px; }
        textarea { width: 100%; height: 400px; margin: 10px 0; }
        button { padding: 15px 30px; font-size: 16px; margin: 10px; }
        .status { margin: 20px 0; padding: 10px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <h1>üî• Firebase Course Uploader</h1>
    
    <h3>Paste your course data (JSON format):</h3>
    <textarea id="jsonData">
{
  "DSA_course": {
        "title": "DSA_course",
        "description": "DAY 1",
        "duration": "1 hours 9 min",
        "lectures": [
            {
            "id": "lecture1",
            "title": "Path to Placement",
            "videoUrl": "https://drive.google.com/file/d/1mLvQAi2LN9ikQBi5v28vFZq5KqEPrqel/preview",
            "description": "",
            "duration": "4:09",
            "order": 1
            }
        ],
        "resources": [
            {
            "name": "Syllabus",
            "type": "file",
            "url": "https://drive.google.com/file/d/1EOtiIE8tBqPdWncts0THtCZ1EZ_L1Rr6/preview",
            "size": "1.5 MB"
            }
        ]
    }
}
    </textarea>
    
    <div>
        <button onclick="uploadData()" style="background: #28a745; color: white;">üì§ Upload to Firebase</button>
        <button onclick="clearData()" style="background: #6c757d; color: white;">üóëÔ∏è Clear</button>
    </div>
    
    <div id="status"></div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>
    
    <script>
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
        apiKey: "AIzaSyDlxROv7ELEkgQ0bMPRwgUAPVDdOu54_xA",
        authDomain: "dsa-mr-robot.firebaseapp.com",
        projectId: "dsa-mr-robot",
        storageBucket: "dsa-mr-robot.firebasestorage.app",
        messagingSenderId: "47500443497",
        appId: "1:47500443497:web:5328779a14d35eab6887f8",
        measurementId: "G-ZL83TP8R91"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        async function uploadData() {
            const statusDiv = document.getElementById('status');
            const jsonData = document.getElementById('jsonData').value;
            
            try {
                statusDiv.innerHTML = '<div class="status">üì§ Uploading courses...</div>';
                
                const courses = JSON.parse(jsonData);
                let uploadedCount = 0;
                
                for (const [courseId, courseData] of Object.entries(courses)) {
                    try {
                        await db.collection('courses').doc(courseId).set(courseData);
                        uploadedCount++;
                        statusDiv.innerHTML += `<div class="status success">‚úÖ Uploaded: ${courseData.title}</div>`;
                    } catch (error) {
                        statusDiv.innerHTML += `<div class="status error">‚ùå Failed: ${courseData.title} - ${error.message}</div>`;
                    }
                }
                
                statusDiv.innerHTML += `<div class="status success">üéâ Successfully uploaded ${uploadedCount} courses!</div>`;
                
            } catch (error) {
                statusDiv.innerHTML = `<div class="status error">‚ùå JSON Error: ${error.message}</div>`;
            }
        }

        function clearData() {
            document.getElementById('jsonData').value = '';
            document.getElementById('status').innerHTML = '';
        }
    </script>
</body>
</html>